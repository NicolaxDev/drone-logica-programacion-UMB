map = [
    ["D"," "," "," ","#"," "," "," "," "," "," "," "," "," "," "," "," "," "," ","#"],
    ["#"," ","#"," ","#"," "," "," "," "," ","#"," "," "," "," ","#"," "," "," ","#"],
    ["#"," ","#"," "," "," "," ","#"," "," "," "," "," ","#"," ","#"," "," "," ","#"],
    ["#"," ","#"," ","#"," "," ","#"," ","#"," "," "," ","#"," "," "," ","#"," ","#"],
    ["#"," "," "," ","#"," "," "," "," ","#"," "," "," ","#"," "," ","#"," "," ","#"],
    ["#"," ","#"," "," "," ","#"," "," "," "," ","#"," "," "," ","#"," "," "," ","#"],
    ["#"," ","#"," "," ","#"," "," ","#"," "," "," "," "," ","#"," "," "," "," ","#"],
    ["#"," "," "," ","#"," "," ","#"," ","#"," ","#"," "," "," ","#"," ","#"," ","#"],
    ["#"," ","#"," "," "," "," "," ","#"," "," ","#"," "," "," "," "," ","#"," ","#"],
    ["#"," ","#"," "," ","#"," ","#"," "," "," "," ","#"," ","#"," "," "," "," ","#"],
    ["#"," ","#"," "," ","#"," ","#"," ","#"," "," ","#"," ","#"," "," "," "," ","#"],
    ["#"," "," "," "," ","#"," "," ","#"," "," ","#"," "," "," ","#"," "," "," ","#"],
    ["#"," ","#"," ","#"," "," ","#"," ","#"," ","#"," ","#"," ","#"," ","#"," ","#"],
    ["#"," ","#"," "," "," ","#"," "," ","#"," "," ","#"," "," "," ","#"," "," ","#"],
    ["#"," ","#"," ","#"," "," "," "," "," ","#"," ","#"," "," "," "," ","#"," ","#"],
    ["#"," "," "," ","#"," ","#"," "," ","#"," "," "," "," ","#"," ","#"," "," ","#"],
    ["#"," ","#"," "," "," ","#"," "," "," "," "," ","#"," "," "," ","#"," "," ","#"],
    ["#"," ","#"," "," "," "," "," ","#"," ","#"," "," ","#"," "," "," "," "," ","#"],
    ["#"," ","#"," "," "," "," "," "," "," ","#"," "," "," "," "," "," "," ","T","#"],
    ["#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#"]
]


class Drone:
    def __init__(self, mapa, posX=0, posY=0):
        self.mapa = mapa
        self.posX = posX
        self.posY = posY
        print(f"Drone creado en x: {posX}, y: {posY}")

    def mostrar_mapa(self):
        for fila in self.mapa:
            for elemento in fila:
                print(elemento, end=" ")
            print()

    def mover(self):
        while True:
            self.mostrar_mapa()
            print("Presione W, A, S o D para moverse. Q para salir.")
            tecla = input(">> ").strip().lower()

            if tecla == "q":
                print("Saliendo...")
                break

            dy, dx = 0, 0
            if tecla == "w":
                dy = -1
            elif tecla == "s":
                dy = 1
            elif tecla == "a":
                dx = -1
            elif tecla == "d":
                dx = 1
            else:
                print("Movimiento no válido.")
                continue

            ny = self.posY + dy
            nx = self.posX + dx

            if not (0 <= ny < len(self.mapa) and 0 <= nx < len(self.mapa[0])):
                print("No puedes salirte del mapa.")
                continue

            destino = self.mapa[ny][nx]

            if destino == "#":
                print("############################### Colisión con muro, no puedes pasar ###############################")
                continue
            elif destino == "T":
                self.mapa[self.posY][self.posX] = " "
                self.mapa[ny][nx] = "D"
                self.mostrar_mapa()
                print("¡Llegaste al objetivo!")
                break
            else:
                self.mapa[self.posY][self.posX] = " "
                self.mapa[ny][nx] = "D"
                self.posY = ny
                self.posX = nx

            print("\n" * 5)


dron = Drone(map)
dron.mover()
